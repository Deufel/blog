<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Layout Demo</title>
    <style>
        :root {
            --border-radius: 0.25rem;
            --_bg-color: #f0f0f0;
            --_border-color: #ddd;
            --header-bg: #4a6fa5;
            --nav-bg: #e0e0e0;
            --aside-bg: #e8e8e8;
            --main-bg: #ffffff;
            --footer-bg: #333333;
            --text-light: #ffffff;
            --text-dark: #333333;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
        }

        button {
            padding: 0.5rem 1rem;
            background-color: #4a6fa5;
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            margin: 0.5rem;
        }

        button:hover {
            background-color: #3a5985;
        }

        .layout-container {
            display: grid;
            grid-template:
              "header  header  header" auto
              "nav     main    aside" 1fr
              "footer  footer  footer" auto
              / auto   1fr     auto;
            min-height: 100svh;
            height: 100svh;
        }

        .layout-container > header {
            grid-area: header;
            background-color: var(--header-bg);
            color: var(--text-light);
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .layout-container > nav {
            grid-area: nav;
            overflow-y: auto;
            background-color: var(--nav-bg);
            border-color: var(--_border-color);
            border-radius: var(--border-radius);
            border-style: solid;
            padding: 1rem;
            width: 250px;
        }

        .layout-container > aside {
            grid-area: aside;
            overflow-y: auto;
            background-color: var(--aside-bg);
            padding: 1rem;
            width: 250px;
        }

        .layout-container > main {
            grid-area: main;
            scroll-behavior: auto;
            overflow-y: auto;
            background-color: var(--main-bg);
            padding: 1rem;
        }

        .layout-container > footer {
            grid-area: footer;
            background-color: var(--footer-bg);
            color: var(--text-light);
            padding: 1rem;
            text-align: center;
        }

        .layout-container > nav,
        .layout-container > aside,
        .layout-container > footer {
            position: static;
            transform: none;
            opacity: 1;
        }

        .layout-container > nav[popover],
        .layout-container > aside[popover],
        .layout-container > footer[popover] {
            position: fixed;
            transition: opacity 300ms, transform 300ms;
        }

        /* .layout-container > nav[popover],
        .layout-container > aside[popover] {
            width: min(80vw, 300px);
            top: 0;
            height: 100svh;
        } */
        html {
            interpolate-size: allow-keywords;
            transition-behavior: allow-discrete;
        }

        .layout-container > nav[popover] {
            position: fixed;
            inset-block-start: 0;
            inset-block-end: 0;
            inset-inline-end: 0;
            inline-size: calc-size(0, auto);  /* Note: no extra parenthesis */
            overflow: hidden;
            opacity: 0;
            transition: inline-size 0.3s ease-out allow-discrete;
        }

        .layout-container > nav[popover]:popover-open {
            inline-size: auto;
        }


        .layout-container > aside[popover] {
            width: auto;
            left: auto;
            height: auto;
            opacity: 0;
            transform: translateX(100%);
        }

        .layout-container > footer[popover] {
            top: auto;
            width: 100%;
            height: auto;
            transform: translateY(100%);
        }

        #nav:popover-open {
            opacity: 1;
            transform: translateX(0);
        }

        @starting-style {
            #nav:popover-open {
                opacity: 0;
                transform: translateX(-100%);
            }
        }

        #aside:popover-open {
            opacity: 1;
            transform: translateX(0);
        }

        @starting-style {
            #aside:popover-open {
                opacity: 0;
                transform: translateX(100%);
            }
        }

        #footer:popover-open {
            opacity: 1;
            transform: translateY(0);
        }

        @starting-style {
            #footer:popover-open {
                opacity: 0;
                transform: translateY(100%);
            }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .layout-container {
                grid-template:
                  "header  header" auto
                  "main    main" 1fr
                  "footer  footer" auto
                  / 1fr     1fr;
            }

            .layout-container > nav,
            .layout-container > aside {
                display: none;
            }

            .layout-container > nav[popover],
            .layout-container > aside[popover] {
                display: block;
            }
        }

        /* Demo content styling */
        .menu-list, .widget-list {
            list-style: none;
            margin: 1rem 0;
        }

        .menu-list li, .widget-list li {
            margin-bottom: 0.5rem;
            padding: 0.5rem;
            border-radius: var(--border-radius);
        }

        .menu-list li {
            background-color: rgba(74, 111, 165, 0.1);
        }

        .widget-list li {
            background-color: rgba(74, 111, 165, 0.05);
        }

        .content-section {
            margin-bottom: 2rem;
        }

        .mobile-nav-toggle {
            display: none;
        }

        @media (max-width: 768px) {
            .mobile-nav-toggle {
                display: inline-block;
            }
        }
    </style>
</head>
<body>
    <div class="layout-container">
        <header>
            <h1>Layout Demo</h1>
            <div>
                <button class="mobile-nav-toggle" popovertarget="nav">☰ Menu</button>
                <button class="mobile-nav-toggle" popovertarget="aside">⚙️ Widgets</button>
            </div>
        </header>

        <nav id="nav" popover>
            <h2>Navigation</h2>
            <ul class="menu-list">
                <li>Home</li>
                <li>About</li>
                <li>Services</li>
                <li>Portfolio</li>
                <li>Blog</li>
                <li>Contact</li>
            </ul>
        </nav>

        <main>
            <section class="content-section">
                <h2>How This Layout Works</h2>
                <p>This is a demonstration of a responsive grid layout with:</p>
                <ul>
                    <li>A fixed header at the top</li>
                    <li>A navigation sidebar on the left</li>
                    <li>A main content area in the center</li>
                    <li>A widget sidebar on the right</li>
                    <li>A fixed footer at the bottom</li>
                </ul>
                <p>On mobile devices, the sidebars collapse into popover menus that can be toggled with buttons in the header.</p>
            </section>

            <section class="content-section">
                <h2>Implementation Details</h2>
                <p>The layout is implemented using CSS Grid with the following areas:</p>
                <ul>
                    <li><strong>header</strong>: Spans the full width at the top</li>
                    <li><strong>nav</strong>: Left sidebar for navigation</li>
                    <li><strong>main</strong>: Center content area (flexible width)</li>
                    <li><strong>aside</strong>: Right sidebar for widgets</li>
                    <li><strong>footer</strong>: Spans the full width at the bottom</li>
                </ul>
                <p>The <code>popover</code> attribute is used to create mobile-friendly slide-in panels.</p>
            </section>

            <section class="content-section">
                <h2>Responsive Behavior</h2>
                <p>This layout is fully responsive:</p>
                <ul>
                    <li>On desktop: Displays the full grid with both sidebars visible</li>
                    <li>On mobile: Hides sidebars and provides toggle buttons to access them as popovers</li>
                </ul>
                <p>Try resizing your browser window to see how the layout adapts!</p>
            </section>

            <section class="content-section">
                <h2>Sample Content</h2>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vehicula ipsum a arcu cursus vitae congue mauris rhoncus. Aenean et justo at enim facilisis gravida. Nulla facilisi. Nunc sed turpis ligula.</p>
                <p>Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur. Cras justo odio, dapibus ac facilisis in, egestas eget quam.</p>
                <p>Vestibulum id ligula porta felis euismod semper. Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
            </section>
        </main>

        <aside id="aside" popover>
            <h2>Widgets</h2>
            <ul class="widget-list">
                <li>Recent Posts</li>
                <li>Categories</li>
                <li>Archives</li>
                <li>Tags</li>
                <li>Search</li>
            </ul>
        </aside>

        <footer id="footer">
            <p>Demo Layout Footer &copy; 2025</p>
        </footer>
    </div>
</body>
</html>
