<style id="css_5_layout">

@layer css_5_layout {
    :is(   [class*="--cluster"], [class*="--flank"], [class*="--frame"], [class*="--grid"], [class*="--split"], [class*="--flex"] ) > * { margin-block: 0; margin-inline: 0; }
    :where([class*="--cluster"], [class*="--flank"], [class*="--frame"], [class*="--grid"], [class*="--stack"], [class*="--split"], [class*="--flex"] ) { gap: var(--size-1); }
    :where([class*="--cluster"]) { display: flex; flex-wrap: wrap; justify-content: flex-start; align-items: center; }
    :where([class*="--flank"]) { display: flex; flex-wrap: wrap; align-items: center; --content-percentage: initial; --flank-size: initial; }
    :where([class*="--flank"]:not([class*="\:end"]) > :first-child),
    :where([class*="--flank"][class*="\:start"] > :first-child) {
        flex-basis: var(--flank-size, auto);
        flex-grow: 1;
    }
    :where([class*="--flank"]:not([class*="\:end"]) > :last-child),
    :where([class*="--flank"][class*="\:start"] > :last-child) {
        flex-basis: 0;
        flex-grow: 999;
        min-inline-size: var(--content-percentage, 50%);
    }
    :where([class*="--flank"][class*="\:end"] > :last-child) {
        flex-basis: var(--flank-size, auto);
        flex-grow: 1;
    }
    :where([class*="--flank"][class*="\:end"] > :first-child) {
        flex-basis: 0;
        flex-grow: 999;
        min-inline-size: var(--content-percentage, 50%);
    }


    :where([class*="--frame"]) {
        display: flex;
        aspect-ratio: 1 / 1;
        justify-content: center;
        align-items: center;
        overflow: hidden;
    }
    :where([class*="--frame"] > img),
    :where([class*="--frame"] > video) {
        block-size: 100%;
        inline-size: 100%;
        object-fit: cover;
    }
    :where([class*="--frame"][class*="\:square"]) {
        aspect-ratio: 1 / 1;
    }
    :where([class*="--frame"][class*="\:landscape"]) {
        aspect-ratio: 16 / 9;
    }
    :where([class*="--frame"][class*="\:portrait"]) {
        aspect-ratio: 9 / 16;
    }
    :where([class*="--grid"]) {
        display: grid;
        grid-template-columns: repeat(
            auto-fit,
            minmax(min(var(--min-column-size, 20ch), 100%), 1fr)
        );
        --min-column-size: initial;
    }
    :where([class*="--span-grid"]) {
        grid-column: 1 / -1;
    }
    :where([class*="--split"]) {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: center;
    }
    :where([class*="--split"]),
    :where([class*="--split"][class*="\:row"]) {
        flex-direction: row;
        block-size: auto;
        inline-size: 100%;
    }
    :where([class*="--split"]:not([class*="\:column"]) > :first-child) {
        flex: 0 1 auto;
    }
    :where([class*="--split"][class*="\:column"]) {
        flex-direction: column;
        block-size: auto;
        inline-size: auto;
        align-self: stretch;
    }
    :where([class*="--stack"]) {
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: stretch;
        margin-block: 1px; /* required for scroll bar appearing when stack "pushes" in to grid border */
    }
    :where([class*="--flex"]) {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
    }

    /* Prevents flex children from being larger than container */
    :where([class*="--flex"]) > * {
        margin-block: 0;
        margin-inline: 0;
        min-height: 0;
    }
    :where([class*="--flex"]),
    :where([class*="--flex"][class*="\:row"]) {
        flex-direction: row;
        block-size: auto;
        inline-size: 100%;
    }
    /* LCR extension for flex system */
    :where([class*="--flex"][class*="\:lcr"]) {
        position: relative;
        flex-wrap: nowrap; /* Override wrap for lcr */

        > :nth-child(1) { flex: 1; display: flex; justify-content: flex-start; }
        > :nth-child(2) { position: absolute; left: 50%; transform: translateX(-50%); }
        > :nth-child(3) { flex: 1; display: flex; justify-content: flex-end; }
    }

    :where([class*="--flex"][class*="\:lr"]) { justify-content: space-between; flex-wrap: nowrap; }
    :where([class*="--flex"][class*="\:center"]) { justify-content: center; }
    :where([class*="--flex"][class*="\:space-between"]) { justify-content: space-between; flex-wrap: nowrap; }
    :where([class*="--flex"][class*="\:column"]) { flex-direction: column; block-size: auto; inline-size: auto; align-self: stretch; align-items: stretch; }

    /* TMB (Top-Middle-Bottom) extension for flex column */
    :where([class*="--flex"][class*="\:column"][class*="\:tmb"]) { position: relative; flex-wrap: nowrap;
        > :nth-child(1) { flex: 1; display: flex; align-items: flex-start; }
        > :nth-child(2) { position: absolute; top: 50%; transform: translateY(-50%); width: 100%; }
        > :nth-child(3) { flex: 1; display: flex; align-items: flex-end; }
    }

    /* TB (Top-Bottom) extension for flex column */
    :where([class*="--flex"][class*="\:column"][class*="\:tb"]) { justify-content: space-between; flex-wrap: nowrap; }
    /* M (Middle) extension for flex column */
    :where([class*="--flex"][class*="\:column"][class*="\:m"]) { justify-content: center; align-items: center; }
    /* B (Bottom) extension for flex column */
    :where([class*="--flex"][class*="\:column"][class*="\:b"]) { justify-content: flex-end; }
}

@layer css_5_layout.primitives {
    /* grid-lcr: will place 3 grid childeren in left center right; or iff 2 then left, right */
    .grid-lcr { display: grid; grid-template-columns: auto 1fr auto; align-items: baseline;}
    .grid-lcr > :nth-child(2):not(:last-child) { justify-self: center; }
    .grid-lcr > :nth-child(2):last-child { justify-self: end; }
    .grid-lcr > * { display: flex; align-items: center; line-height: 1.2; }

    /* Top-Middle-Bottom (exactly 3 children) */
    .grid-tmb { display: grid; grid-template-rows: auto 1fr auto; gap: 0; }
    .grid-tmb > :nth-child(2) { align-self: center; }

    /* Top-Top-Bottom (exactly 3 children, first 2 at top) */
    .grid-ttb { display: grid; grid-template-rows: auto auto 1fr; gap: 0; }
    .grid-ttb > :nth-child(3) { align-self: end; }

    /* Top-Bottom (exactly 2 children) */
    .grid-tb { display: grid; grid-template-rows: auto 1fr; gap: 0; }
    .grid-tb > :nth-child(2) { align-self: end; }
    }
}


</style>
